<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>crear coockie</title>
	</head>
	<body>
		<script>
			/*PREGUNTAR  SIEMPRE SI LAS COOKIES ESTAN BLOQUEADAS O NO*/

			//boton1=
			// crear cookie
			//seleccionar durante tiempo existirá la cookie(1 dia, 2 dias)
			// seleccionar una fecha

			//BOTON3--leer contenido
			//BOTON4--modificar cookie
			// BOTON5--borrar cookie

			//boton 0 Check habibilitada o no la cookie en la maquina
			function CheckcookieEnabled() {
				if (navigator.cookieEnabled) {
					alert("se pueden crear cookies xq no esta bloqueadas");
				} else {
					alert("coockies estan bloquedas en el navegador");
				}
			}

			function setCookie(cname, cvalue, exdays) {
				const d = new Date();
				d.setTime(d.getTime() + exdays * 24 * 60 * 60 * 1000);
				let expires = "expires=" + d.toUTCString();
				document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
			}
			/*poner siempre path con / xa q no de error a la hora de encontrar la ubicacion*/

			//BOTON2-- comprobar si existe
			/*detecta si existe una cookie, devuelve true/false*/

			function getCookie(cname) {
				let name = cname + "=";
				let decodedCookie = decodeURIComponent(document.cookie);
				let ca = decodedCookie.split(";");
				for (let i = 0; i < ca.length; i++) {
					let c = ca[i];
					while (c.charAt(0) == " ") {
						c = c.substring(1);
					}
					if (c.indexOf(name) == 0) {
						return c.substring(name.length, c.length);
					}
				}
				return "";
			}

			function checkCookie() {
				let user = getCookie("username");
				if (user != "") {
					alert("Welcome again " + user);
				} else {
					user = prompt("Please enter your name:", "");
					if (user != "" && user != null) {
						setCookie("username", user, 30);
					}
				}
			}
			function removeCookie(cname) {
				setCookie(cname, "", -1);
			}
		</script>

		<button onclick="CheckcookieEnabled()">BOTON 0 Enable/disabled</button>
		<br />
		<br />
		<button
			onclick="document.getElementById('preg1').style.visibility='visible'; document.getElementById('fecha').style.visibility='visible'; document.getElementById('cantidades').style.visibility='visible'"
		>
			boton 1 Crear Cookie
		</button>
		<div id="preg1" style="visibility: hidden">
			<div>
				<input type="text" placeholder="nameCookie" id="nameCookie" />
				<input type="text" placeholder="nameValue" id="nameValue" />
			</div>
			
		</div>
		<br />
		<div id="fecha" style="visibility: hidden">
			<input id="inputDate" type="date" />
			<br/>
			<br/>
			<button
				onclick="alert(document.getElementById('nameCookie').value + document.getElementById('nameValue').value + (document.getElementById('inputDate').value))"
			>
				Seleccionar cantidades
				</button>
		</div>
		<div id ="cantidades" style="visibility: hidden" >

			<input type="text" placeholder="Dias" id="dias" />
			<input type="text" placeholder="Meses" id="meses" />
			<input type="text" placeholder="Años" id="anos" />

			<br />
			<br />
			<button
			onclick="alert(document.getElementById('nameCookie').value + document.getElementById('nameValue').value + (document.getElementById('anos').value*365)+(document.getElementById('meses').value)+(document.getElementById('dias').value))"
		>
			Seleccionar Fecha
			</button>
		</div>
			<!--dado un cname saber si existe-->
			<button onclick="alert(getCookie(prompt('Introduzca nombre de la cookie:')))">BOTON 2 detecta si existe Cookie</button>

			<br />
			<br />
			<button onclick="checkCookie()">BOTON 3 leer Cookie</button>
			<br />
			<br />
	
			<button onclick="">BOTON 4 Modificar cookie</button>
			<br />
			<br />
	
			<button onclick="removeCookie()">BOTON 5 Borrar Cookie</button>
	</body>
</html>
